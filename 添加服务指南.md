# 🛠️ Portal 导航页 - 添加与管理服务指南

本导航页的所有内容都由 `config/services.yaml` 文件控制。您只需要编辑这个文件，即可轻松增删改查所有的服务卡片。

## 1. 配置文件位置

*   **NAS 路径**: `/mnt/Storage1/cron/portal/config/services.yaml`
*   **修改方式**: 您可以通过 NAS 的文件管理器直接编辑，或者通过 SMB/FTP 下载到电脑编辑后再覆盖。

## 2. 添加新服务的格式

文件采用 **YAML** 格式，请务必注意**缩进（使用 2 个空格）**。

### 基础模板

```yaml
- 分类名称:
    - 服务名称:
        href: http://192.168.1.100:8080  # 服务的访问地址
        description: 这里是简短的描述      # 卡片上的副标题
        icon: my-icon                    # 图标关键词 (见下文)
        siteMonitor: http://192.168.1.100:8080 # (可选) 用于健康检查的地址，通常同 href
```

### 完整示例

```yaml
- 影音娱乐:
    - Emby:
        href: http://192.168.6.192:8096
        description: 家庭媒体中心
        icon: emby
        siteMonitor: http://192.168.6.192:8096

    - Jellyfin:
        href: http://192.168.6.192:8097
        description: 免费的媒体服务器
        icon: jellyfin
```

---

## 3. 关于图标 (Icon)

系统内置了丰富的图标库，您只需要在 `icon:` 字段填写对应的**关键词**即可。系统会自动匹配颜色和图标。

**常用支持的图标关键词：**

| 关键词 (icon:) | 说明 | 颜色 |
| :--- | :--- | :--- |
| `casaos` | CasaOS | 🟢 绿色 |
| `panel`, `1panel` | 1Panel / 面板 | 🔵 蓝色 |
| `home-assistant` | Home Assistant | 🔵 天蓝 |
| `qbittorrent` | qBittorrent | 🔵 蓝色 |
| `thunder` | 迅雷 | 🟡 黄色 |
| `quark` | 夸克网盘 | 🟣 紫色 |
| `icloud` | iCloud | ☁️ 天蓝 |
| `emby` | Emby | 🟢 绿色 |
| `plex` | Plex | 🟠 琥珀色 |
| `jellyfin` | Jellyfin | 🟣 紫色 |
| `komga` | 漫画/书籍 | 🟠 橙色 |
| `autobangumi`, `anime` | 追番/动画 | 🩷 粉色 |
| `qinglong` | 青龙面板 | 🩶 灰色 |
| `steam`, `asf` | Steam/游戏 | 🟣 靛蓝 |
| `folder-shared`, `openlist` | 网盘/文件夹 | 🟡 黄色 |
| `proxy`, `mihomo`, `router` | 软路由/代理 | 🟢 青色 |

> **提示**: 如果填写的关键词没有特定匹配，系统会显示一个默认的灰色盒子图标。

---

## 4. qBittorrent 高级功能

如果您添加的是 **qBittorrent**，可以开启**实时下载速度和任务监控**功能。

**必须满足两个条件：**
1.  `icon` 必须包含 `qbittorrent`。
2.  必须添加一行 `type: qbittorrent`。

**示例：**
```yaml
    - qBittorrent:
        href: http://192.168.6.192:8181
        description: BT 下载器
        icon: qbittorrent
        siteMonitor: http://192.168.6.192:8181
        type: qbittorrent  <-- 关键配置！开启后卡片上会显示下载速度
```

> **注意**: 确保您的 `docker-compose.yml` 中已经配置了正确的 `QB_USERNAME` 和 `QB_PASSWORD` 环境变量，否则无法获取数据。

---

## 5. 修改后如何生效？

1.  保存 `services.yaml` 文件。
2.  **不需要重启容器！**
3.  直接在浏览器中**刷新网页**，或者点击页面右上角的“刷新”按钮。
4.  新添加的服务就会立即出现了。
